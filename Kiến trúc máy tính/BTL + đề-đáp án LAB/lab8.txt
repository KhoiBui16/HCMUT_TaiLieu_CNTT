
**Bài 1:
1 block = 256 byte = 2^8 byte 
Cache = 4MB = 16384 block = 2^14 block
Các trường có thứ tự lần lượt là Tag | index | offset
=>
(a) Direct Mapped
8bit byte-offset
14bit index
10bit tag

(b) 4-way set associative
1 set có 4 block
=>8bit byte-offset
  12bit index 
  12bit tag

(c)Fully
chỉ có 1 set trong cache và có 16384 block
=>8bit byte-offset
  0bit index (vì chỉ có 1 set)
  24bit tag

**Bài 2:
1 block 64 words = 128 half word = 2^7 half-word
cache = 256KB = 1024 blocks = 2^10 blocks

(a)
7bit half-word offset
10bit index
11bit tag

(b)
1 set có 4block :
7bit half-word offset
8bit index
13bit tag

(c)
duy nhất 1 set có 2^11 blocks
7bit half-word offset
0bit index
21bit tag


**Bài 3:
1 block = 4 words
cache = 256byte = 16block = 16 set

(a)
	Tag	index
0	0	0	M
---------------------------------------------------------------------
4	0	1	M
---------------------------------------------------------------------
1	0	0	H
---------------------------------------------------------------------
5	0	1	H
---------------------------------------------------------------------
65	1	0	M
---------------------------------------------------------------------
1	0	0	M
---------------------------------------------------------------------
67	1	0	M
---------------------------------------------------------------------
46	0	11	M
---------------------------------------------------------------------
1	0	0	M
---------------------------------------------------------------------
70	1	1	M
---------------------------------------------------------------------
2	0	0	H
---------------------------------------------------------------------
0	0	0	H
---------------------------------------------------------------------
HIT = 4 
MISS = 8

(b)
1 set có 2 block => cache có 8 set index từ 0 đến 7
	Tag	index
0	0	0	M
---------------------------------------------------------------------
4	0	1	M
---------------------------------------------------------------------
1	0	0	H
---------------------------------------------------------------------
5	0	1	H
---------------------------------------------------------------------
65	2	0	M
---------------------------------------------------------------------
1	0	0	H
---------------------------------------------------------------------
67	2	0	H
---------------------------------------------------------------------
46	1	3	M
---------------------------------------------------------------------
1	0	0	H
---------------------------------------------------------------------
70	2	1	M
---------------------------------------------------------------------
2	0	0	H
---------------------------------------------------------------------
0	0	0	H
---------------------------------------------------------------------
HIT = 7
MISS = 5

(c)
có 1 set có 16 blocks, duy nhất 1 set
	Tag	
0	0		M
---------------------------------------------------------------------
4	1		M
---------------------------------------------------------------------
1	0		H
---------------------------------------------------------------------
5	1		H
---------------------------------------------------------------------
65	16		M
---------------------------------------------------------------------
1	0		H
---------------------------------------------------------------------
67	16		H
---------------------------------------------------------------------
46	11		M
---------------------------------------------------------------------
1	0		H
---------------------------------------------------------------------
70	17		M
---------------------------------------------------------------------
2	0		H
---------------------------------------------------------------------
0	0		H
---------------------------------------------------------------------
HIT = 7
MISS = 5


**Bài 4
(a) AMAT = 5*10^(-10)*5 + 8/12*10*10^-9  = 9.1667*10^(-9) s
(b) AMAT = 5*10^(-10)*5 + 5/12*10*10^-9  = 6.6667*10^(-9)  s
(c) AMAT = 5*10^(-10)*5 + 5/12*10*10^-9  = 6.6667*10^(-9)  s

**Bài 5:
AMAT = 10 + 0.2(15+0.1*100) = 15 cycles


**Bài 6:
Số chu kỳ miss/1 IC:
I-cache = 0.05*100 = 5 cycles
D-cache = 0.1*0.1*100 = 1 cycle


=> Tổng cycles cho I và D cache trong 1 IC = 6 cycles

CPI theo đề : 1004/1000 = 1.004
=> CPI trung bình = 1.004+6 = 7.004
